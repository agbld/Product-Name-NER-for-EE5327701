# Product-Name-NER-for-EE5327701

[English](./README_en.md)

此專案包含一**繁體中文**命名實體識別 (NER) 模型，可用於提取**商品名稱**中的**各種屬性**，例如品牌、名稱、顏色等。

## 目錄

1. [安裝](#安裝)
2. [推論範例](#推論範例)
3. [屬性標註規則及其準確度](#屬性標註規則及其準確度)

## 1. 安裝

### 1.1 PyTorch 安裝

建議從 [PyTorch 官方網站](https://pytorch.org/get-started/locally/) 進行安裝。

### 1.2 安裝依賴套件

```bash
pip install -r requirements.txt
```

## 2. 使用說明&推論範例

推論範例寫在 `inference_example.ipynb` ，主要可調整的內容包括輸入的商品名稱與想要提取的 NER 屬性。
您可以輸入想要推論的商品名稱以及想提取的商品屬性，然後執行以下程式進行推論：

```python
# 範例資料
inference_data = ['【A‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊', '【Jabra】Elite 4 ANC真無線降噪藍牙耳機 (藍牙5.2雙設備連接)']
all_attribute = ['品牌', '名稱', '產品', '產品序號', '顏色', '材質', '對象與族群', '適用物體、事件與場所', 
                     '特殊主題', '形狀', '圖案', '尺寸', '重量', '容量', '包裝組合', '功能與規格']

# 執行推論
result = inference(model, tokenizer, inference_data, all_attribute, batch_size=32)

# 處理並顯示結果
result_dict = process_result(result)
print(result_dict)
```

### 2.1 預期輸出

推論結果將包含結構化的屬性資料及其對應的信心分數，範例如下：

(信心分數是模型對其預測結果的「自信程度」的數值表示，其數值介於1~0，1代表非常有信心，0代表沒有信心。)

```json
{
  "【a‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊": {
    "品牌": [["a‵bella", 0.9987], ["浪漫晶飾", 0.9861]],
    "名稱": [["密碼", 0.6318]],
    "顏色": [["深海藍", 0.9486]],
    "材質": [["水晶", 0.9143]]
  }
  ...
}
```

### 2.2 取得特定商品名稱的實體

使用商品名稱來取得對應的屬性與實體 **(商品名稱若包含英文字母，請以小寫為主)**，例如：

```python
print('【A‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊')
result_dict['【A‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊'.lower()]
```

結果如下：

```
【A‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊

{'品牌': [['a‵bella', 0.9987], ['浪漫晶飾', 0.9861]],
 '名稱': [['密碼', 0.6318]],
 '產品': [['手鍊', 0.9991]],
 '產品序號': [],
 '顏色': [['深海藍', 0.9486]],
 '材質': [['水晶', 0.9143]],
 '對象與族群': [],
 '適用物體、事件與場所': [['手', 0.9968]],
 '特殊主題': [],
 '形狀': [['方形', 0.9974]],
 '圖案': [],
 '尺寸': [],
 '重量': [],
 '容量': [],
 '包裝組合': [],
 '功能與規格': []}
```

### 2.3 取得某個屬性的實體

如果只想取得特定屬性的實體，例如品牌：

```python
print('【A‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊')
result_dict['【A‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊'.lower()]['品牌']
```

結果如下：

```
【A‵bella浪漫晶飾】方形密碼-深海藍水晶手鍊

[['a‵bella', 0.9987], ['浪漫晶飾', 0.9861]]
```

## 3. 屬性標註規則及其準確度

| 編號 | 標籤屬性            | 說明                                                                                          | F1-score |
|-----|-------------------|---------------------------------------------------------------------------------------------|-------|
| 1   | **品牌**            | 商品品牌名稱，如 華碩、LG                                                                     | 0.8770 |
| 2   | **名稱**        | 商品中所有的 “產品系列”，以及商人為了特殊目的所特別額外創造出的商品名稱，不包含特殊主題或是產品類型，不含廣告詞。如 Iphone 12、ROG 3060Ti | 0.5941 |
| 3   | **產品**        | 實際產品名稱(類型) 。 如 電腦、滑鼠、鍵盤、螢幕、玩具、餅乾、衛生紙                 | 0.8001 |
| 4   | **產品序號**        | 商品序號，該產品所擁有的唯一數字字母組合序號，不含系列名。                                                | 0.8443 |
| 5   | **顏色**            | 顏色資訊，包含化妝品以及明亮。如 花朵紅、藍色系、晶亮                                                   | 0.8898 |
| 6   | **材質**            | 產品的製造材料，請注意，不是產品成分。如 木製、PVC材質、304不銹鋼                                        | 0.7810 |
| 7   | **對象與族群**        | 人與動物的族群。如 新生兒、寵物用、高齡族群                                                            | 0.8755 |
| 8   | **適用物體、事件與場所** | 適用的物品、事件、場所。如 手部用、騎車用、廚房用                                                     | 0.7614 |
| 9   | **特殊主題**        | 產品附有特殊主題或為創造作。如 航海王、J.K. Rowling                                                  | 0.4979 |
| 10  | **形狀**            | 商品形狀及其外觀詞彙。如 圓形、鈕扣形、可愛熊、無袖、長筒、窄邊框                                             | 0.7793 |
| 11  | **圖案**            | 產品上的圖案，如 圓形、螺旋形圖案                                                                   | 0.5731 |
| 12  | **尺寸**            | 商品大小，常以數字和特殊規格形式出現。如 120x80x10cm（長寬高）、XL、ATX                                      | 0.8420 |
| 13  | **重量**            | 商品重量，常以數字和特殊規格形式出現。如 10g、極輕                                                    | 0.9105 |
| 14  | **容量**            | 商品容量，常以數字和特殊規格形式出現。如 128G（電腦）、大容量                                            | 0.9220 |
| 15  | **包裝組合**        | 產品的包裝方式、組合方式。如 10入、10g/包、鍵盤滑鼠組合、送電池                                              | 0.7478 |
| 16  | **功能與規格**        | 產品的用途與特殊規格，如 USB3.0、陽光防曬、防水                                                        | 0.7960 |
| 17  | **Macro F1-score**  |                         | 0.7807 |

